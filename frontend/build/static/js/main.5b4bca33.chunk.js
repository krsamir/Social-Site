(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{125:function(e,t,a){},151:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),i=(a(125),a(22)),o=a(15),l=a(16),d=a(111),u=a(2),j=["component"],b=function(e){var t=e.component,a=Object(d.a)(e,j);return Object(u.jsx)("div",{children:Object(u.jsx)(o.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return void 0!==window.localStorage.getItem("sid")&&""!==window.localStorage.getItem("sid")&&null!==window.localStorage.getItem("sid")?Object(u.jsx)(t,Object(l.a)({},e)):Object(u.jsx)(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})},m=(a(94),a(183)),h=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"row navbar",children:[Object(u.jsx)("div",{className:"col section1",children:Object(u.jsx)("h3",{children:"College"})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"nav__center",children:[Object(u.jsx)("input",{type:"text",className:"searchBox"}),Object(u.jsx)(m.a,{className:"logout__button",variant:"dark",onClick:function(){window.localStorage.clear(),window.location.reload()},children:"Logout"})]})}),Object(u.jsx)("div",{className:"col section3",children:Object(u.jsx)(m.a,{variant:"dark",onClick:function(){window.localStorage.clear(),window.location.reload()},children:"Logout"})})]})})},p=a(19),O=a.n(p),x=a(36),f=a(73),g=a(23),v=a(27),w=a.n(v),y=(a(151),a(104)),E=a.n(y),T=a(20),C="SUCCESS_TOAST",N="WARNING_TOAST",I="ERROR_TOAST ",R="SET_USER_DETAIL",S="FETCH_NOTICE",k="UPLOAD_IMAGE",F=function(e){return function(){var t=Object(x.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:k,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=Object(T.b)((function(e){return{images:e.feed.images}}),{UploadImages:F})((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"upload",children:Object(u.jsx)(E.a,{style:{cursor:"pointer"}})}),Object(u.jsx)("input",{type:"file",name:"myFile[]",encType:"multipart/form-data",id:"upload",onChange:function(t){if(t.target.files&&0!==t.target.files.length){var a=Object(f.a)(e.images);e.UploadImages(a.concat(Array.from(t.target.files)))}else e.UploadImages([])},multiple:!0,accept:".jpeg,.jpg,.png",hidden:!0})]})})),U=a(108),_=a.n(U),P=function(e){return function(){var t=Object(x.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:C,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(x.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:N,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(x.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:I,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=a(21);var V=Object(T.b)((function(e){return{images:e.feed.images}}),{UploadImages:F,successToast:P,warningToast:Y,ErrorToast:W})((function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),r=a[0],c=a[1],s=e.images,i=s.map((function(e){return URL.createObjectURL(e)}));Object(n.useEffect)((function(){return function(){s.map((function(e){return URL.revokeObjectURL(e)}))}}),[s]);var o=function(){var t=Object(x.a)(O.a.mark((function t(){var a,n,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=new FormData,n=[],r=0;r<s.length;r++)n[r]=new File([s[r]],"".concat(Date.now(),"+").concat(s[r].name));for(c=0;c<n.length;c++)a.append("myFile[]",n[c]),a.append("Filename",n[c].name);return t.next=6,w.a.post("/api/uploadMedia",a).then((function(t){"failed"===t.data.status?e.ErrorToast("Upload Failed"):"uploaded"===t.data.status&&e.successToast("uploaded Successfully")})).catch((function(e){console.log("\ud83d\ude80 ~ file: Post.jsx ~ line 33 ~ handlePost ~ e",e)}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"post",children:[Object(u.jsx)("div",{className:"post__top",children:Object(u.jsx)(D,Object(l.a)({},e))}),Object(u.jsx)("div",{className:"post__middle",children:Object(u.jsx)("textarea",{name:"",id:"",rows:"5",className:"box",placeholder:"Whats up on your mind ",value:r,onChange:function(e){c(e.target.value)}})}),Object(u.jsx)("div",{className:"post__imageBox",children:i&&i.map((function(t,a){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:t,className:"post__images image1",alt:""}),Object(u.jsx)(_.a,{className:"image2",onClick:function(t){!function(t,a){var n=Object(f.a)(s);n.splice(a,1),e.UploadImages(n)}(0,a)}})]},a)}))}),Object(u.jsx)("div",{className:"post__bottom",children:Object(u.jsx)(m.a,{variant:"primary",onClick:o,children:"Post"})})]}),Object(u.jsx)(L.a,{})]})}));var A=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col t1"}),Object(u.jsx)("div",{className:"col t2",children:Object(u.jsx)(V,Object(l.a)({},e))}),Object(u.jsx)("div",{className:"col t3"})]})]})},M=(a(63),a(187)),H=a(188),q=a(198),B=a(190),G=a(191),K=a(196),z=a(194),J=a(189),Q=a(50),X=a.n(Q),Z=a(186),$=a(197),ee=a(61),te=a.n(ee),ae=a(192),ne=Object(Z.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function re(){return Object(u.jsx)(M.a,{variant:"body2",color:"textSecondary",align:"center",children:"Samir \xa9"})}var ce=Object(T.b)(null,{successToast:P,warningToast:Y,ErrorToast:W})((function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),r=a[0],c=a[1],s=ne(),o=Object(n.useState)(""),l=Object(g.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(""),h=Object(g.a)(b,2),p=h[0],f=h[1],v=Object(n.useState)(""),y=Object(g.a)(v,2),E=y[0],T=y[1],C=Object(n.useState)(""),N=Object(g.a)(C,2),I=N[0],R=N[1],S=function(){return c(!1)},k=function(){var t=Object(x.a)(O.a.mark((function t(){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===d||""===p||""===E||""===I){t.next=11;break}if(!(I.length<8)){t.next=5;break}e.ErrorToast("Password cannot be less than 8 characters"),t.next=9;break;case 5:return a=Object($.a)(),n=te()().add(1,"hours").format("YYYY-MM-DD HH:mm:ss"),t.next=9,w.a.post("/api/register",{firstName:d,lastName:p,email:E,password:I,token:a,expireat:n}).then((function(t){"existing"===t.data.status?e.warningToast("You are already Registered with us."):"created"===t.data.status?(F(),e.successToast("Kindly Check Your Mail!")):"failed"===t.data.status?e.ErrorToast("Registration failed due to some reason. Please try again"):"changepassword"===t.data.status?e.warningToast("You are already Registered with us. Try changing your password"):"resend"===t.data.status&&c(!0)})).catch((function(e){console.log(e)}));case 9:t.next=12;break;case 11:e.ErrorToast("All fields are mandatory. Please fill all the details.");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),F=function(){T(""),j(""),f(""),R("")};return Object(u.jsxs)(H.a,{component:"main",maxWidth:"xs",children:[Object(u.jsx)(J.a,{}),Object(u.jsxs)("div",{className:s.paper,children:[Object(u.jsx)(q.a,{className:s.avatar,children:Object(u.jsx)(X.a,{})}),Object(u.jsx)(M.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(u.jsxs)("form",{className:s.form,noValidate:!0,children:[Object(u.jsxs)(B.a,{container:!0,spacing:2,children:[Object(u.jsx)(B.a,{item:!0,xs:12,sm:6,children:Object(u.jsx)(G.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){j(e.target.value)},value:d})}),Object(u.jsx)(B.a,{item:!0,xs:12,sm:6,children:Object(u.jsx)(G.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){f(e.target.value)},value:p})}),Object(u.jsx)(B.a,{item:!0,xs:12,children:Object(u.jsx)(G.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){T(e.target.value)},value:E})}),Object(u.jsx)(B.a,{item:!0,xs:12,children:Object(u.jsx)(G.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){R(e.target.value)},value:I})})]}),Object(u.jsx)(K.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,onClick:k,children:"Sign Up"}),Object(u.jsx)(B.a,{container:!0,justify:"flex-end",children:Object(u.jsx)(B.a,{item:!0,children:Object(u.jsx)(i.b,{to:"/login",children:"Already have an account? Sign in"})})})]})]}),Object(u.jsx)(z.a,{mt:5,children:Object(u.jsx)(re,{})}),Object(u.jsx)(L.a,{}),Object(u.jsxs)(ae.a,{show:r,onHide:S,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(ae.a.Header,{closeButton:!0,children:Object(u.jsx)(ae.a.Title,{children:"Register"})}),Object(u.jsxs)(ae.a.Body,{children:[Object(u.jsx)("span",{children:"You are already registered with us."}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:["Do you want to recieve a verification link at",Object(u.jsxs)("strong",{children:[" ",E]})," "]})]}),Object(u.jsxs)(ae.a.Footer,{children:[Object(u.jsx)(m.a,{variant:"secondary",onClick:S,children:"Close"}),Object(u.jsx)(m.a,{variant:"success",onClick:function(){var t=Object($.a)(),a=te()().add(1,"hours").format("YYYY-MM-DD HH:mm:ss"),n={email:E,token:t,expireat:a,firstName:d};w.a.post("/api/resend",n).then((function(t){"created"===t.data.status&&e.successToast("Kindly Check Your Mail!"),F()})).catch((function(e){console.log(e)})),S()},children:"Send"})]})]})]})}));function se(){return Object(u.jsx)(M.a,{variant:"body2",color:"textSecondary",align:"center",children:"Samir\xa9"})}var ie=Object(Z.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var oe=Object(T.b)(null,{successToast:P,warningToast:Y,ErrorToast:W})((function(e){var t=Object(n.useState)({email:"samirkr2527@gmail.com",password:"1234567890"}),a=Object(g.a)(t,2),r=a[0],c=a[1],s=function(e){var t=Object(l.a)({},r);t[e.name]=e.value,c(t)},o=ie();return Object(u.jsxs)(H.a,{component:"main",maxWidth:"xs",children:[Object(u.jsx)(J.a,{}),Object(u.jsxs)("div",{className:o.paper,children:[Object(u.jsx)(q.a,{className:o.avatar,children:Object(u.jsx)(X.a,{})}),Object(u.jsx)(M.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(u.jsxs)("form",{className:o.form,noValidate:!0,children:[Object(u.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:r.email,onChange:function(e){return s(e.target)}}),Object(u.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:r.password,onChange:function(e){return s(e.target)}}),Object(u.jsx)(K.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,onClick:function(){w.a.post("/api/login",r).then((function(t){if("usernotfound"===t.data.status)e.ErrorToast("Please register with us first!");else if("invaliduser"===t.data.status)e.warningToast("Wrong Credentials!");else{var a=t.data.token;void 0!==a&&""!==a?(window.localStorage.clear(),window.localStorage.setItem("sid",a),e.history.push("/")):e.history.push("/login")}})).catch((function(e){console.log(e)}))},children:"Sign In"}),Object(u.jsxs)(B.a,{container:!0,children:[Object(u.jsx)(B.a,{item:!0,xs:!0,children:Object(u.jsx)(i.b,{to:"/password",variant:"body2",children:"Forgot password?"})}),Object(u.jsx)(B.a,{item:!0,children:Object(u.jsx)(i.b,{to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(u.jsx)(z.a,{mt:8,children:Object(u.jsx)(se,{})}),Object(u.jsx)(L.a,{})]})})),le=a(195),de=a(193),ue=Object(T.b)(null,{successToast:P,warningToast:Y,ErrorToast:W})((function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)({VERIFIED:!1,UNVERIFIED:!1,ERROR:!1}),l=Object(g.a)(s,2),d=l[0],j=l[1],b=Object(o.g)().search,h=new URLSearchParams(b).get("token");Object(n.useEffect)((function(){w.a.get("/api/validateToken/".concat(h)).then((function(e){"VERIFIED"===e.data.status?j({VERIFIED:!0,UNVERIFIED:!1,ERROR:!1}):"UNVERIFIED"===e.data.status?j({VERIFIED:!1,UNVERIFIED:!0,ERROR:!1}):"ERROR"===e.data.status&&j({VERIFIED:!1,UNVERIFIED:!1,ERROR:!0})})).catch((function(e){console.log(e)}))}),[h]);var p=Object(n.useState)(""),O=Object(g.a)(p,2),x=O[0],f=O[1],v=function(){c(!1)},y=function(){return c(!0)};return Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"25%"},children:[d.VERIFIED&&Object(u.jsx)(le.a,{variant:"success",style:{width:"auto"},children:Object(u.jsxs)("span",{children:["Your account is verified successfully. Please",Object(u.jsx)(i.b,{to:"/login",children:" login "}),"to find out more."]})}),d.UNVERIFIED&&Object(u.jsx)(le.a,{variant:"warning",style:{width:"auto"},children:Object(u.jsxs)("span",{children:["Link has expired. Please click here to",Object(u.jsxs)("span",{onClick:y,style:{color:"#007bff",textDecoration:"none",backgroundColor:"transparent",cursor:"pointer"},children:[" ","Resend"," "]}),"a new verification link."]})}),d.ERROR&&Object(u.jsx)(le.a,{variant:"danger",style:{width:"auto"},children:Object(u.jsxs)("span",{children:["Something went wrong. Please try to"," ",Object(u.jsx)(i.b,{to:"/register",children:"Register"})," once again."]})}),Object(u.jsxs)(ae.a,{show:r,onHide:v,onExit:function(){return f("")},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(ae.a.Header,{closeButton:!0,children:Object(u.jsx)(ae.a.Title,{children:"Resend Link"})}),Object(u.jsx)(ae.a.Body,{children:Object(u.jsxs)(de.a.Group,{controlId:"formBasicEmail",children:[Object(u.jsx)(de.a.Label,{children:"Email"}),Object(u.jsx)(de.a.Control,{type:"email",placeholder:"email",value:x,onChange:function(e){return f(e.target.value)}})]})}),Object(u.jsxs)(ae.a.Footer,{children:[Object(u.jsx)(m.a,{variant:"secondary",onClick:v,children:"Close"}),Object(u.jsx)(m.a,{variant:"success",onClick:function(){var t=Object($.a)(),a=te()().add(1,"hours").format("YYYY-MM-DD HH:mm:ss"),n={email:x,token:t,expireat:a};w.a.post("/api/reverify",n).then((function(t){"created"===t.data.status?e.successToast("Kindly Check Your Mail!"):"failed"===t.data.status?e.ErrorToast("Registration failed due to some reason. Please try again"):"alreadyverified"===t.data.status&&e.successToast("You are already a verified user. If required change your password"),y()})).catch((function(e){console.log(e)})),v()},children:"Send"})]})]}),Object(u.jsx)(L.a,{})]})}));function je(){return Object(u.jsx)(M.a,{variant:"body2",color:"textSecondary",align:"center",children:"Samir\xa9"})}var be=Object(Z.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var me=Object(T.b)(null,{successToast:P,warningToast:Y,ErrorToast:W})((function(){var e=be();return Object(u.jsxs)(H.a,{component:"main",maxWidth:"xs",children:[Object(u.jsx)(J.a,{}),Object(u.jsxs)("div",{className:e.paper,children:[Object(u.jsx)(q.a,{className:e.avatar,children:Object(u.jsx)(X.a,{})}),Object(u.jsx)(M.a,{component:"h1",variant:"h5",children:"Change Password"}),Object(u.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(u.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(u.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(u.jsx)(K.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(u.jsxs)(B.a,{container:!0,children:[Object(u.jsx)(B.a,{item:!0,xs:!0,children:Object(u.jsx)(i.b,{to:"/password",variant:"body2",children:"Forgot password?"})}),Object(u.jsx)(B.a,{item:!0,children:Object(u.jsx)(i.b,{to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(u.jsx)(z.a,{mt:8,children:Object(u.jsx)(je,{})}),Object(u.jsx)(L.a,{})]})}));var he=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(i.a,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(b,{path:"/",exact:!0,component:A}),Object(u.jsx)(o.b,{path:"/register",exact:!0,component:ce}),Object(u.jsx)(o.b,{path:"/login",exact:!0,component:oe}),Object(u.jsx)(o.b,{path:"/validate",exact:!0,component:ue}),Object(u.jsx)(o.b,{path:"/password",exact:!0,component:me})]})})})},pe=a(56),Oe=a(110),xe={},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return L.b.success(t.payload),null;case N:return L.b.warning(t.payload),null;case I:return L.b.error(t.payload),null;default:return e}},ge={data:[{admin_name:"",email:"",organization:"",role:""}]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload});default:return e}},we={data:[]},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload});default:return e}},Ee={images:[]},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(l.a)(Object(l.a)({},e),{},{images:t.payload});default:return e}},Ce=Object(pe.b)({toast:fe,user:ve,admin:ye,feed:Te}),Ne=[Oe.a],Ie=Object(pe.d)(Ce,{},Object(pe.c)(pe.a.apply(void 0,Ne)));var Re=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(T.a,{store:Ie,children:Object(u.jsx)(he,{})})})},Se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,201)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(155);w.a.interceptors.request.use((function(e){return e.headers.Authorization=window.localStorage.getItem("sid"),e}),(function(e){return Promise.reject(e)})),s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(Re,{})}),document.getElementById("root")),Se()},94:function(e,t,a){}},[[156,1,2]]]);
//# sourceMappingURL=main.5b4bca33.chunk.js.map